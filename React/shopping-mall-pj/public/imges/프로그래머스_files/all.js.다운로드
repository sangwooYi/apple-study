!function(e){"use strict";"function"==typeof define&&define.amd?define([],e):e()}(function(){"use strict";var I,k,v,x=0,C=-1<window.location.search.indexOf("debug=true"),_=-1<window.location.search.indexOf("dev=true"),A=(window.jQuery?v=window.jQuery:window.$&&window.$.fn&&window.$.fn.jquery&&(v=window.$),function(e){if(null==e||"object"!=typeof e||e.tagName)return e;var t,i=e.constructor();for(t in e)i[t]=A(e[t]);return i});try{var e=document.createElement("style"),t=(e.type="text/css",e.innerHTML=".cloudinary-thumbnails { list-style: none; margin: 10px 0; padding: 0 } .cloudinary-thumbnails:after { clear: both; display: block; content: '' } .cloudinary-thumbnail { float: left; padding: 0; margin: 0 15px 5px 0; display: none } .cloudinary-thumbnail.active { display: block } .cloudinary-thumbnail img { border: 1px solid #01304d; border-radius: 2px; -moz-border-radius: 2px; -webkit-border-radius: 2px } .cloudinary-thumbnail span { font-size: 11px; font-family: Arial, sans-serif; line-height: 14px; border: 1px solid #aaa; max-width: 150px; word-wrap: break-word; word-break: break-all; display: inline-block; padding: 3px; max-height: 60px; overflow: hidden; color: #999; } .cloudinary-delete { vertical-align: top; font-size: 13px; text-decoration: none; padding-left: 2px; line-height: 8px; font-family: Arial, sans-serif; color: #01304d }.cloudinary-button { color: #fefeff; text-decoration: none; font-size: 18px; line-height: 28px; height: 28x; border-radius: 6px; -moz-border-radius: 6px; -webkit-border-radius: 6px; font-weight: normal; text-decoration: none;   display: inline-block; padding: 4px 30px 4px 30px; background: #0284cf; font-family: Helvetica, Arial, sans-serif;   background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAyODRjZiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMjU5OGIiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);   background: -moz-linear-gradient(top,  #0284cf 0%, #02598b 100%);   background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#0284cf), color-stop(100%,#02598b));   background: -webkit-linear-gradient(top,  #0284cf 0%,#02598b 100%);   background: -o-linear-gradient(top,  #0284cf 0%,#02598b 100%);   background: -ms-linear-gradient(top,  #0284cf 0%,#02598b 100%);   background: linear-gradient(to bottom,  #0284cf 0%,#02598b 100%);   filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#0284cf', endColorstr='#02598b',GradientType=0 ); }.cloudinary-button:hover { background: #02598b;   background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAyNTk4YiIgc3RvcC1vcGFjaXR5PSIxIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMjg0Y2YiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);   background: -moz-linear-gradient(top,  #02598b 0%, #0284cf 100%);   background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#02598b), color-stop(100%,#0284cf));   background: -webkit-linear-gradient(top,  #02598b 0%,#0284cf 100%);   background: -o-linear-gradient(top,  #02598b 0%,#0284cf 100%);   background: -ms-linear-gradient(top,  #02598b 0%,#0284cf 100%);   background: linear-gradient(to bottom,  #02598b 0%,#0284cf 100%);   filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#02598b', endColorstr='#0284cf',GradientType=0 ); ",document.getElementsByTagName("head")[0]);t&&t.appendChild(e)}catch(e){console&&console.log&&console.log("Cannot initialize stylesheet: "+e)}function n(e,a){function t(e){if(e.origin.match(/cloudinary\.com/)){var t,i;try{i=e.data,t=JSON.parse(i)}catch(e){return}if(t.widget_id==d)switch(t.kind){case"fileuploadsuccess":v&&v(l||r.form||document).trigger("cloudinarywidgetfileuploadsuccess",[t.result]);break;case"success":r.keep_widget_open||c||b(),f(t.result),a&&a(null,t.result),v&&v(l||r.form||document).trigger("cloudinarywidgetsuccess",[t.result]);break;case"fileuploadfail":c&&a&&a(t),v&&v(l||r.form||document).trigger("cloudinarywidgetfileuploadfail",[t.result]);break;case"error":r.keep_widget_open||c||b(),a&&a(t),v&&v(l||r.form||document).trigger("cloudinarywidgeterror",t);break;case"closed":b();var n={message:"User closed widget"};a&&a(n),v&&v(l||r.form||document).trigger("cloudinarywidgetclosed",n);break;case"get-signature":var o,n=r.upload_signature;"string"==typeof n?p("signature",{signature:n}):"function"==typeof n&&(delete(o=A(t)).widget_id,delete o.kind,delete o.file,n(function(e){p("signature",{signature:e})},o))}}}var i,n,o,d=x++,r=A(e),l=r.element,c=!!r.inline_container,u=!1,s=!1,e=(delete r.element,r.widget_id=d,function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)}),g=function(e){u=!0,n=window.document.body.style.overflow,c||(window.document.body.style.overflow="hidden"),s&&(i.style.display="block",i.focus(),p("open",e||{}))},p=function(e,t){i.contentWindow.postMessage((e=e,(t=A(t=t)).kind=e,JSON.stringify(t)),o)},b=function(){i.style.display="none",window.document.body.style.overflow=n,u=!1},f=function(e){var n,o,a;v&&(!(n=r.form)&&!1!==n&&l&&(n=v(l).closest("form")),o=r.field_name||"image",n&&n.length&&(v(n).find('input[name="'+o+'"]').remove(),v.each(e,function(e,t){var i=[t.resource_type,t.type,t.path].join("/")+"#"+t.signature;v("<input />").addClass("cloudinary-hidden-field").attr({type:"hidden",name:o,"data-cloudinary-public-id":t.public_id}).val(i).data("cloudinary",t).appendTo(n)})),!1!==r.thumbnails&&(r.thumbnails||l)&&(a=v("<ul></ul>").addClass("cloudinary-thumbnails"),v.each(e,function(e,t){var i=v("<li></li>").addClass("cloudinary-thumbnail").data("cloudinary",t);t.thumbnail_url?i.append(v("<img />").attr("src",t.thumbnail_url)):i.append(v("<span></span>").text(t.public_id)),t.delete_token&&i.append(v("<a></a>").addClass("cloudinary-delete").attr("href","#").text("Ã—")),i.find("img").on("load",function(){i.addClass("active")}),a.append(i)}),0<a.find("li").length&&(r.thumbnails?v(r.thumbnails).append(a):v(l).after(a)),a.find(".cloudinary-delete").click(function(e){e.preventDefault();var t=v(this).parents(".cloudinary-thumbnail").data("cloudinary"),e=function(e,t){var i,i,n;if(v)return i=(i=(t=t||{}).url)||"https://api.cloudinary.com/v1_1/"+r.cloud_name+"/delete_by_token",n=v.support.xhrFileUpload?"json":"iframe json",v.ajax({url:i,method:"POST",data:{token:e},headers:{"X-Requested-With":"XMLHttpRequest"},dataType:n})}(t.delete_token);e&&e.always(function(e){200==e.status&&v(l||r.form||document).trigger("cloudinarywidgetdeleted",t)}),v(this).parents(".cloudinary-thumbnail").hide("slow"),n&&(e=v(n).find('input[name="'+o+'"][data-cloudinary-public-id="'+t.public_id+'"].cloudinary-hidden-field'),1<v(n).find('input[name="'+o+'"].cloudinary-hidden-field').length?v(e).remove():v(e).attr("data-cloudinary-public-id","").val("").data("cloudinary",null))})))};r.cloud_name||(r.cloud_name=I),!r.api_key&&k&&(r.api_key=k),r.secure=r.secure||"https:"===document.location.protocol,r.requireSignature=!!r.upload_signature;for(var m=!!r.upload_signature?["api_key","cloud_name"]:["cloud_name","upload_preset"],y=0;y<m.length;y++)if(!r[m[y]])throw"Missing required option: "+m[y];i=window.document.createElement("iframe");var w=r.secure?"https:":"http:",h=[];if(C&&h.push("debug=true"),_&&h.push("dev=true"),c&&h.push("inline=true"),r.cloud_name&&h.push("cloud_name="+r.cloud_name),o=r.widgetHost||w+"//widget.cloudinary.com/n/"+r.cloud_name+"/188/index.html",i.setAttribute("src",o+"?"+h.join("&")),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("frameborder","no"),i.setAttribute("allow","camera"),i.style.display="none",i.style.width="100%",i.style.border="none",c?i.style.height="520px":(i.style.position="fixed",i.style.top="0px",i.style.left="0px",i.style.height="100%",i.style.background="transparent",i.style.zIndex="1000000"),e(i,"load",function(){p("init",r),s=!0,u&&(i.style.display="block",i.focus(),p("open",{}))}),e(window,"message",t),function(){if(!c)return document.body;if("string"!=typeof r.inline_container)return r.inline_container;var e=document.querySelector(r.inline_container);if(e)return e;throw"Element Not Found ("+r.inline_container+")"}().appendChild(i),c||e(window.document,"keyup",function(e){27==e.keyCode&&b()}),l){l.style.display="none";w=window.document.createElement("a");if(w.setAttribute("class",r.button_class||"cloudinary-button"),w.setAttribute("href","#"),w.innerHTML=r.button_caption||"Upload image",l.parentNode.insertBefore(w,l.previousSibling),e(w,"click",function(e){g();if(e&&e.preventDefault)e.preventDefault();if(e&&e.stopPropagation)e.stopPropagation();return false}),!r.field_name&&l.getAttribute("name")&&l.getAttribute("name")!="")r.field_name=l.getAttribute("name")}return{open:function(e){return g(e),this},close:b}}window.cloudinary=window.cloudinary||{},window.cloudinary.openUploadWidget=function(e,t){return n(e,t).open()},window.cloudinary.createUploadWidget=n,window.cloudinary.applyUploadWidget=function(e,t,i){t=A(t);return t.element=e,n(t,i)},window.cloudinary.setCloudName=function(e){I=e},window.cloudinary.setAPIKey=function(e){k=e},v&&(v.fn.cloudinary_upload_widget=function(e,t){window.cloudinary.applyUploadWidget(v(this)[0],e,t)})});